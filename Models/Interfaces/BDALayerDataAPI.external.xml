<!--
Copyright (c) CLMS. All rights reserved.
Licensed under the AGPL-3.0 license. See LICENSE file in the project root for full license information.-->

<ExternalApi DateCreated="" Model_Name="BDALayerDataAPI" Model_Description="" Version="">
  <Endpoint TransportType="HTTP" ProtocolType="REST">
    <Security SecurityType="None" />
    <Class Name="recipe" OriginalName="recipe" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="name" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="description" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="executablePath" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="engineId" OriginalName="" Description="" Datatype="int" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="args" OriginalName="" Description="" Datatype="Interfaces.BDALayerDataAPI.args" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="args" OriginalName="args" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="intarg" OriginalName="" Description="" Datatype="int" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="strarg" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="msgtype" OriginalName="msgtype" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="name" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="description" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="active" OriginalName="" Description="" Datatype="bool" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="format" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="externalConnectorId" OriginalName="" Description="" Datatype="int" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="newscn" OriginalName="newscn" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="slug" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="name" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="description" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="dbname" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="connectorId" OriginalName="" Description="" Datatype="int" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="msg" OriginalName="msg" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="entries" OriginalName="" Description="" Datatype="Array[Interfaces.BDALayerDataAPI.entry]" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="nested" OriginalName="" Description="" Datatype="Array[Object]" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="entry" OriginalName="entries" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="key" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="value" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="job" OriginalName="job" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="name" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="description" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="messageTypeId" OriginalName="" Description="" Datatype="int" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="recipeId" OriginalName="" Description="" Datatype="int" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="active" OriginalName="" Description="" Datatype="bool" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="master_data" OriginalName="master_data" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="tables" OriginalName="" Description="" Datatype="Array[Interfaces.BDALayerDataAPI.table_entry]" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="table_entry" OriginalName="tables" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="name" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="schema" OriginalName="" Description="" Datatype="Array[Interfaces.BDALayerDataAPI.schema]" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="data" OriginalName="" Description="" Datatype="Array[Interfaces.BDALayerDataAPI.data]" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="schema" OriginalName="schema" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="columnNames" OriginalName="" Description="" Datatype="Array[string]" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="columnTypes" OriginalName="" Description="" Datatype="Array[Interfaces.BDALayerDataAPI.columnTypes]" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="primaryKey" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="columnTypes" OriginalName="columnTypes" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="key" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="value" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="data" OriginalName="data" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="tuple" OriginalName="" Description="" Datatype="Array[Interfaces.BDALayerDataAPI.tuple]" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="tuple" OriginalName="tuple" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="key" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="value" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="response" OriginalName="response" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="details" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="status" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="connector" OriginalName="" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="name" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="metadata" OriginalName="" Description="" Datatype="Interfaces.BDALayerDataAPI.connector_metadata" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="address" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="port" OriginalName="" Description="" Datatype="int" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="external" OriginalName="" Description="" Datatype="bool" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Class Name="connector_metadata" OriginalName="" Description="" Namespace="" BaseClass="" IsEnum="false">
      <Attribute Name="username" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="password" OriginalName="" Description="" Datatype="string" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
      <Attribute Name="datasources" OriginalName="" Description="" Datatype="Array[string]" Length="0" IsPrimary="false" IsEncrypted="false" OriginalDataType="" SerializeAsXMLAttribute="false" />
    </Class>
    <Operation Name="StoreMessageInEventlog" Description="" Datatype="string" OriginalName="" ClientType="" IsStatic="false" AccessLog="false" Verb="PUT" Text="" ContentType="JSON" Route="" Notes="" UserDefinedUrlMethod="true">
      <Parameters>
        <Parameter Name="msg" DataType="Interfaces.BDALayerDataAPI.msg" IsRef="False" IsOut="False" DefaultValue="" Notes="" Type="RequestBody" Alias="" />
        <Parameter Name="scnSlug" DataType="string" IsRef="False" IsOut="False" DefaultValue="" Notes="" Type="UriPart" Alias="" />
      </Parameters>
      <Headers />
      <GetUrlMethod>return "/datastore/"+scnSlug;</GetUrlMethod>
      <CachingOptions CachePerUser="false" OperationIsCached="false" OverrideDefaultCachingSettings="false" UseCustomExpirationMethod="false" ExpirationDays="0" ExpirationHours="0" ExpirationMinutes="3" ExpirationSeconds="0" ExpirationMilliseconds="0" CacheMode="None">function TimeSpan Expiration(
	Interfaces.BDALayerDataAPI.msg msg,
	string scnSlug,
	string response
)
{ 
	 return CommonLib.Utilities.CreateTimeSpan(0, 1, 0); 
}</CachingOptions>
    </Operation>
    <Operation Name="GetDataFromEventlog1" Description="" Datatype="void" OriginalName="" ClientType="" IsStatic="false" AccessLog="false" Verb="GET" Text="" ContentType="JSON" Route="" Notes="" UserDefinedUrlMethod="true">
      <Parameters>
        <Parameter Name="scnSlug" DataType="string" IsRef="False" IsOut="False" DefaultValue="" Notes="" Type="UriPart" Alias="" />
        <Parameter Name="row_num" DataType="int" IsRef="False" IsOut="False" DefaultValue="" Notes="" Type="UriPart" Alias="" />
      </Parameters>
      <Headers />
      <GetUrlMethod>return "datastore/"+scnSlug+"/entries?type=rows&amp;n="+row_num.ToString();</GetUrlMethod>
      <CachingOptions CachePerUser="false" OperationIsCached="false" OverrideDefaultCachingSettings="false" UseCustomExpirationMethod="false" ExpirationDays="0" ExpirationHours="0" ExpirationMinutes="3" ExpirationSeconds="0" ExpirationMilliseconds="0" CacheMode="None">function TimeSpan Expiration(
	string scnSlug,
	int row_num
)
{ 
	 return CommonLib.Utilities.CreateTimeSpan(0, 1, 0); 
}</CachingOptions>
    </Operation>
    <Operation Name="GetDataFromEventlog2" Description="" Datatype="void" OriginalName="" ClientType="" IsStatic="false" AccessLog="false" Verb="GET" Text="" ContentType="JSON" Route="" Notes="" UserDefinedUrlMethod="true">
      <Parameters>
        <Parameter Name="scnSlug" DataType="string" IsRef="False" IsOut="False" DefaultValue="" Notes="" Type="QueryParameter" Alias="" />
      </Parameters>
      <Headers />
      <GetUrlMethod>
		//todo prepei an pername to master_data key-attribute-name - messeage.Name
return "datastore/"+scnSlug+"/select?filters=warehouse_id=1&amp;message_type=stocklevels";

</GetUrlMethod>
      <CachingOptions CachePerUser="false" OperationIsCached="false" OverrideDefaultCachingSettings="false" UseCustomExpirationMethod="false" ExpirationDays="0" ExpirationHours="0" ExpirationMinutes="3" ExpirationSeconds="0" ExpirationMilliseconds="0" CacheMode="None">function TimeSpan Expiration(
	string scnSlug
)
{ 
	 return CommonLib.Utilities.CreateTimeSpan(0, 1, 0); 
}</CachingOptions>
    </Operation>
    <Operation Name="GetDataFromDimensionTables" Description="" Datatype="string" OriginalName="" ClientType="" IsStatic="false" AccessLog="false" Verb="GET" Text="" ContentType="JSON" Route="" Notes="" UserDefinedUrlMethod="true">
      <Parameters>
        <Parameter Name="scnSlug" DataType="string" IsRef="False" IsOut="False" DefaultValue="" Notes="" Type="UriPart" Alias="" />
        <Parameter Name="filters" DataType="string" IsRef="False" IsOut="False" DefaultValue="" Notes="" Type="UriPart" Alias="" />
      </Parameters>
      <Headers />
      <GetUrlMethod>return "/datastore/"+scnSlug+"/dtable?tableName=" + filters;</GetUrlMethod>
      <CachingOptions CachePerUser="false" OperationIsCached="false" OverrideDefaultCachingSettings="false" UseCustomExpirationMethod="false" ExpirationDays="0" ExpirationHours="0" ExpirationMinutes="3" ExpirationSeconds="0" ExpirationMilliseconds="0" CacheMode="None">function TimeSpan Expiration(
	string scnSlug,
	string filters,
	string response
)
{ 
	 return CommonLib.Utilities.CreateTimeSpan(0, 1, 0); 
}</CachingOptions>
    </Operation>
  </Endpoint>
  <RestEndpointDetails BaseUrl="http://94.70.243.21:9999/api/" IgnoringNullFields="false" />
</ExternalApi>