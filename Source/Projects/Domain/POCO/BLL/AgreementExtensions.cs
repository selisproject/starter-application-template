
// Copyright (c) CLMS. All rights reserved.
// Licensed under the AGPL-3.0 license. See LICENSE file in the project root for full license information.
// This source file was autogenerated by zAppDev(r).

using System;
using System.Runtime.Serialization;
using System.Collections.Generic;
using System.ComponentModel;
using System.Linq;
using System.Reflection;
using System.Collections;
using zAppDev.DotNet.Framework.Utilities;
using zAppDev.DotNet.Framework.Configuration;
using zAppDev.DotNet.Framework.Data.Domain;

using DemonstratorApp.DAL;

namespace DemonstratorApp.BO
{
	/// <summary>
	/// The Agreement extensions
	/// </summary>
	public static class AgreementExtensions
	{
        public static bool ApprovedFromEverybody(this BO.Agreement @this){using (new zAppDev.DotNet.Framework.Profiling.Profiler("Agreement", zAppDev.DotNet.Framework.Profiling.AppDevSymbolType.ClassOperation, "ApprovedFromEverybody")) {
var _var0 = (@this?.AgreementStatus?.Any((b) => b.Status == "Approved by Investor") ?? false);var _var1 = (@this?.AgreementStatus?.Any((c) => c.Status == "Approved by Supplier") ?? false);if ((@this?.AgreementStatus?.Any((a) => a.Status == "Approved by Administrator" && _var0 && _var1) ?? false)) {
return true;
}
return false;
}
}


public static string Get_CurrentAgreementStatus(this BO.Agreement @this){using (new zAppDev.DotNet.Framework.Profiling.Profiler("Agreement", zAppDev.DotNet.Framework.Profiling.AppDevSymbolType.ClassOperation, "Get_CurrentAgreementStatus")) {
if (@this?.AgreementStatus != null) {
System.Collections.Generic.List<DemonstratorApp.BO.AgreementStatus> firstAgreementStatus = @this?.AgreementStatus?.OrderByDescending((a) => a.DateOccured).ToList();
if (((firstAgreementStatus?.Count() ?? 0) > 0)) {
return (firstAgreementStatus?.FirstOrDefault()?.Status ?? "");
}
else {
return "";
}
}
else {
return "";
}
}
}



        
	}
}
